<div class="form-title">File Title</div>

<div class="actionBar">
  <button (click)="showFieldsDialog()"><span class="actions"><img src="../../../../assets/images/icon-add.svg" /> &nbsp;Add Field</span></button>
  <button (click)="submit()" [disabled]="!dynamicForm?.valid" [ngClass]="{'button-not-allowed': !dynamicForm?.valid}"><span class="actions"><i style="color: #75b52f" class="e-icons e-reload"></i> Update Metadata</span></button>
  <button><span class="actions"><i style="color: #da5200" class="e-icons e-clear"></i> Disregard Changes</span></button>
</div>

<div class="row">
  <div class="col-md-6">
    <dynamic-form #dynamicForm="dynamicForm" style="display: inline" [config]="fields" (submit)="submit($event)" (remove)="performRemove($event)" [showDelete]='true'
      *ngIf="fields?.length > 0" (formFinished)="onFormFinished($event)"></dynamic-form>
  </div>

  <div class="col-md-6">
    <img *ngIf="isPDF !== true" src="../../../../assets/images/omvImage.png" alt="OMV Image" style="width: 100%; height: auto; margin: auto">
    <img *ngIf="isPDF === true" src="../../../../assets/images/omvPDFMedia.png" alt="OMV Image" style="width: 100%; height: auto; margin: auto" (click)="activatePDFViewer()">
  </div>
</div>

<ejs-dialog #fieldsDialog [visible]='false' [width]='500'>
  <ng-template #content>
    <button class="dialog-close" (click)="closeDialog()">
      <img src="../../../../assets/images/dialog-close.svg" />
    </button>
    <br />
    
    <label class="dialog-title">Add Field</label>
    <hr />
    <br />
    <ejs-listview #listview id='List' [dataSource]='allItemFields'cssClass='e-list-template' sortOrder='Ascending'>
      <ng-template #template let-allItemFields="">
        <div class="e-list-wrapper e-list-multi-line dialog-list" (click)="selectField(allItemFields)" style="cursor: pointer;">          
          <span [ngClass]="{'dialog-list-item-checked': allItemFields.isChecked, 'dialog-list-item': !allItemFields.isChecked}"> {{ allItemFields.label }} </span>
          <img *ngIf="allItemFields.isChecked || allItemFields.isSelected" 
                [src]="allItemFields.isSelected ? '../../../../assets/images/checkmark-yellow.svg' : '../../../../assets/images/checkmark.svg'" 
                class="float-right" 
            />
        </div>
      </ng-template>
    </ejs-listview>
    <br />
    <button class="btn btn-lg omv-primary" (click)="addFields()"> Done </button>
  </ng-template>
</ejs-dialog>